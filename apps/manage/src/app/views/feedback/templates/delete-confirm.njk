{% extends "views/layouts/main.njk" %}

{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{% block pageTitle %}
    {{ pageHeading }} - {{ config.headerTitle }}
{% endblock %}

{% block pageContent %}
    {{ govukWarningText({
        text: "This action cannot be undone.",
        iconFallbackText: "Warning"
    }) }}
    
    <p class="govuk-body">
        Are you sure you want to delete this submission?
    </p>

    {{
        govukSummaryList({
            rows: [
                {
                    key: { text: "Submitted" },
                    value: { text: submission.createdAt | date('d MMMM yyyy, HH:mm') }
                },
                {
                    key: { text: "Full Name" },
                    value: { text: submission.fullName }
                },
                {
                    key: { text: "Email" },
                    value: { text: submission.email or 'Not Provided' }
                },
                {
                    key: { text: "Rating" },
                    value: { text: submission.rating }
                },
                {
                    key: { text: "Feedback" },
                    value: { text: submission.feedback }
                }
            ]
        })
    }}

    <br />
    
    <form method="POST">
        <div class="govuk-button-group">
            {{ govukButton({
                text: "Delete submission",
                classes: "govuk-button--warning"
            }) }}
            
            <a class="govuk-link" href="/feedback/{{ submission.id }}">Cancel</a>
        </div>
    </form>
{% endblock %}
